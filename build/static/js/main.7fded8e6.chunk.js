(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t){},103:function(e,t){},136:function(e,t){},137:function(e,t){},183:function(e,t){},184:function(e,t){},185:function(e,t){},186:function(e,t,a){},187:function(e,t,a){"use strict";a.r(t);var n=a(5),o=a.n(n),i=a(80),c=a.n(i),s=(a(94),a(81)),r=a(82),l=a(87),p=a(83),d=a(88),m=(a(95),a(84)),u=a.n(m),h=(a(3),a(85)),v=a(86),g=(a(186),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={modelsReady:!1,value:"image/jpeg, image/png, .jpg, .jpeg, .png",previews:[],predictions:[]},a.onDrop=function(e,t,n){a.setState({preview:e[0].preview||n[0]})},a.onChange=function(e){a.setState({value:e.target.value})},a.cropToCanvas=function(e,t,a){var n=e.naturalWidth,o=e.naturalHeight;t.width=e.width,t.height=e.height,a.clearRect(0,0,a.canvas.width,a.canvas.height),n>o?a.drawImage(e,(n-o)/2,0,o,o,0,0,a.canvas.width,a.canvas.height):a.drawImage(e,0,(o-n)/2,n,n,0,0,a.canvas.width,a.canvas.height)},a.onImageChange=function(e){var t=document.getElementById("canvas"),n=t.getContext("2d");a.cropToCanvas(e.target,t,n),a.state.objectModel.detect(t).then(function(e){var t="16px sans-serif";n.font=t,n.textBaseline="top",e.forEach(function(e){var a=e.bbox[0],o=e.bbox[1],i=e.bbox[2],c=e.bbox[3];n.strokeStyle="#00FFFF",n.lineWidth=4,n.strokeRect(a,o,i,c),n.fillStyle="#00FFFF";var s=n.measureText(e.class).width,r=parseInt(t,10);n.fillRect(a,o,s+4,r+4)}),e.forEach(function(e){var t=e.bbox[0],a=e.bbox[1];n.fillStyle="#000000",n.fillText(e.class,t,a)})}),a.state.classifyModel.classify(e.target).then(function(e){a.setState({predictions:e})})},a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.a().then(function(t){e.setState({objectModel:t})}),v.a().then(function(t){e.setState({classifyModel:t})}),this.state.modelsReady=!0}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("p",null,"Image Detect App")),o.a.createElement("div",{className:"Dropzone-page"},o.a.createElement("input",{className:"Dropzone-input",onChange:this.onChange,value:this.state.value,placeholder:"Accept",type:"text"}),this.state.modelsReady?o.a.createElement(u.a,{className:"Dropzone",accept:"image/jpeg, image/png, .jpg, .jpeg, .png",multiple:!1,onDrop:this.onDrop},o.a.createElement("div",{className:"Dropzone-content"},this.state.preview?o.a.createElement("img",{alt:"upload preview",onLoad:this.onImageChange,className:"Dropzone-img",src:this.state.preview}):"Drop some files on me!"),o.a.createElement("canvas",{id:"canvas"})):o.a.createElement("div",{className:"Dropzone"},"Loading model..."),o.a.createElement("div",null,this.state.predictions.map(function(e){return o.a.createElement("div",{className:"prediction",key:e.className},o.a.createElement("div",null,e.className),o.a.createElement("div",null,e.probability.toFixed(2)))}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},89:function(e,t,a){e.exports=a(187)},94:function(e,t,a){},95:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"}},[[89,1,2]]]);
//# sourceMappingURL=main.7fded8e6.chunk.js.map